<!DOCTYPE html>    
<html lang="id">    
<head>    
<meta charset="UTF-8" />    
  <meta name="author" content="Y&Z Studio - Powered by AI & Human Creativity">    
<meta name="copyright" content="¬© 2025 Y&Z Studio - yudabastard84@gmail.com">    
	<!-- Meta dasar -->    
<meta charset="UTF-8">    
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">    
<meta name="theme-color" content="#1e1e1e"> <!-- Warna status bar -->    
<meta name="mobile-web-app-capable" content="yes">    
<meta name="apple-mobile-web-app-capable" content="yes">    
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">    
<meta name="apple-mobile-web-app-title" content="My Audio App">    
    
<!-- PWA Manifest -->    
<link rel="manifest" href="manifest.json" />    
<link rel="icon" type="image/png" sizes="192x192" href="192.png" />    
<link rel="apple-touch-icon" href="192.png" />    
    
<!-- SEO -->    
	<title>My Video App -  Offline</title>    
<meta name="description" content="Play your favorite video files offline with rich EQ and player features.">    
    
<!-- OG (untuk share) -->    
<meta property="og:title" content="My Video App">    
<meta property="og:description" content="A fast, offline-ready Video player PWA. Try now!">    
<meta property="og:image" content="icon-512.png">    
<meta property="og:type" content="website">    
<meta property="og:url" content="https://yoursite.com/">    
    
<!-- Optional favicon -->    
<link rel="shortcut icon" href="icon-192.png" type="image/png">    
  <title>Mini Video Player PWA</title>    
  <style>    
  	  	    * {  
      margin: 0;  
      padding: 0;  
      box-sizing: border-box;  
    }  

  video, canvas, img {
    filter: brightness(95%);
  }
    
:root {
  --color-primary: rgba(0, 255, 238, 0.08);       /* soft glass base */
  --color-accent: #ff4de8;
  --color-background: linear-gradient(120deg, #0e0e0e, #1a1a1a);
  --shadow-depth: 0 10px 32px rgba(0, 255, 255, 0.15);
  --glow-effect: 0 0 12px rgba(0, 255, 238, 0.6);

  --glass-blur: blur(18px);
  --border-glass: rgba(255, 255, 255, 0.1);
  --color-glow: rgba(0, 255, 238, 0.25);
}

body {
  background-image: var(--color-background), url('assets/bg.jpg');
  background-size: cover, cover;
  background-position: center, center;
  background-repeat: no-repeat, no-repeat;
  background-attachment: fixed, fixed;
  color: white;
  font-family: 'Poppins', sans-serif;
  filter: contrast(105%) saturate(115%) brightness(1.03);
  margin: 0;
  padding: 0;
}

/* Retina Glass Card */
.glass-retina {
  background: var(--color-primary);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--border-glass);
  border-radius: 20px;
  box-shadow:
    inset 0 0 0.5px rgba(255, 255, 255, 0.1),
    0 4px 16px var(--color-glow),
    0 8px 24px rgba(0, 0, 0, 0.2);
  padding: 24px;
  transition: all 0.4s ease;
}

/* Hover effect (optional) */
.glass-retina:hover {
  transform: scale(1.02);
  box-shadow:
    inset 0 0 1px rgba(255, 255, 255, 0.15),
    0 6px 28px rgba(0, 255, 238, 0.35),
    0 12px 36px rgba(0, 0, 0, 0.3);
}

/* 3D Card Base */
.card-3d {
  box-shadow: var(--shadow-depth);
  transform: perspective(900px) rotateX(2deg);
  backdrop-filter: blur(12px) brightness(1.08);
  border-radius: 16px;
  padding: 20px;
  transition: all 0.4s ease;
}

  .visual-mode-all {
    filter:
      hue-rotate(5deg)
      saturate(1.6)
      contrast(1.2)
      brightness(1.1)
      contrast(1.1)
      brightness(0.95)
      saturate(1.2)
      brightness(1.3)
      contrast(1.25)
      saturate(1.4);
    transform: perspective(1000px) rotateX(2deg);
    border-radius: 12px;
    transition: all 0.5s ease;
  }
  
html, body {    
  margin: 0;    
  padding: 0;    
  width: 100%;    
  height: 100%;    
  background: #111;
  font-family: sans-serif;    
  overflow: hidden;    
}    
    
/* Main video wrapper */    
#videoContainer {    
  position: fixed;    
  top: 0; left: 0;    
  width: 100vw;    
  height: 100vh;    
  overflow: hidden;    
  display: flex;    
  align-items: center;    
  justify-content: center;    
  background: #000;    
}    
    
#videoContainer video {    
  position: absolute;    
  top: 50%;    
  left: 50%;    
  transform: translate(-50%, -50%);    
  width: 100%;    
  height: 100%;    
  object-fit: cover;    
}    
    
@media (orientation: portrait) {    
  #videoContainer video {    
    width: auto;    
    height: 100vh;    
    object-fit: contain;    
        object-fit: contain !important;
  }    
}    
    
@media (orientation: landscape) {    
  #videoContainer video {    
    width: 100vw;    
    height: auto;    
    object-fit: cover;    
  }    
}    
    
#miniPlayer {    
  position: fixed;    
  bottom: 10px;    
  right: 10px;    
  width: 200px;    
  height: 112.5px; /* 16:9 ratio */    
  background: black;    
  border-radius: 10px;    
  overflow: hidden;    
  z-index: 9999;    
    display: none;    
      background: #111;
}    
    
#miniPlayer video,    
#miniVideo {    
  width: 100%;    
  height: 100%;    
  object-fit: contain;    
  background: black;    
}    
  
    body {  
      margin: 0;  
      padding: 0;  
      background: #111;
      display: flex;  
      justify-content: center;  
      align-items: center;  
      height: 100vh;  
    }  
  
    #videoInput {  
      position: absolute;  
      top: 10px;  
      left: 10px;  
      z-index: 10;  
    }  
  
    .video-wrapper {    
      width: 100%;  
      height: 100%;  
      background: #000;    
      display: flex;    
      justify-content: center;    
      align-items: center;    
      overflow: hidden;    
  cursor: move;
  z-index: 9999;
  display: none; /* default disembunyikan, muncul saat minimize */
}
    video {    
      max-width: 100%;    
      max-height: 100%;    
      object-fit: contain;    
      background: #000;    
    }    
    
    .player-container {    
    width: 100vw;    
    height: 100vh;    
    display: flex;    
    justify-content: center;    
    align-items: center;    
    background: black;    
  }    
    
  .player-container video {    
    width: 100%;    
    height: 100%;    
    object-fit: cover; /* or contain / fill tergantung mau crop atau penuh */    
  }    
    
/* Hidden file input */    
#fileInput {    
  display: none;    
}    
    
/* Open video button */    
#openButton {    
  position: absolute;    
  top: 10px;    
  left: 10px;    
  z-index: 1001;    
  background: rgba(255,255,255,0.1);    
  padding: 10px 15px;    
  color: white;    
  border: none;    
  border-radius: 8px;    
  font-size: 14px;    
  cursor: pointer;    
}    

    
.vjs-watermark, .plyr__branding, .branding, .video-branding {    
  display: none !important;    
}    
    
.vjs-powered-by, .vjs-branding, .plyr__badge {    
  display: none !important;    
  opacity: 0 !important;    
  visibility: hidden !important;    
}    

#floatingVideoWrapper {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 200px;
  z-index: 9999;
  background: #000;
  border-radius: 10px;
  overflow: hidden;
  cursor: move;
}
#floatingVideoWrapper video {
  width: 100%;
  display: block;
}

#presetSelect {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  background: white;
  padding: 5px 10px;
  border-radius: 5px;
  font-size: 14px;
}
    
          @supports (backdrop-filter: blur(10px)) {
  .glass {
    backdrop-filter: blur(10px);
  }
}
    
      .glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  box-shadow: 0 0 30px rgba(0, 200, 255, 0.3);
  border-radius: 15px;
}
  
  .dynamic-light {
  background: radial-gradient(circle at var(--x) var(--y), rgba(255,255,255,0.1), transparent 80%);
}

    #realisticPlayer {
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  filter: brightness(1.1) contrast(1.25) saturate(1.15)
          drop-shadow(0 0 30px rgba(0,255,255,0.1))
          drop-shadow(0 0 40px rgba(255,255,255,0.05))
          blur(0.3px);
  transition: all 1s ease-in-out;
  background: radial-gradient(circle at center, #111 10%, #000 100%);
}

  </style>    
</head>      
	<body onclick="enterFullscreenOnce()">      
		    
		<div class="video-wrapper" id="videoWrapper">      
</div>      
<input type="file" accept="video/*" id="videoInput"  hidden />    
      
    <div class="player-container" id="playerContainer"></div>    
	     
<!-- FILE INPUT + OPEN BUTTON -->    
<input type="file" id="fileInput" accept="video/*" hidden />    
<button id="openButton">üìÅ Ambil Video</button>    
    
<!-- VIDEO WRAPPER (BISA DIPAKAI UNTUK MODE NORMAL & MINI) -->    
<div id="videoContainer">    
  <video id="mainVideo" controls autoplay playsinline></video>     
</div>    
   
    <select id="presetSelect">
    	  <option value="Same Soft">Same Soft</option>
  <option value="Broadcast Voice">Broadcast Voice</option>
  <option value="Live Concert Hall">Live Concert Hall</option>
  <option value="Music Video Pop">Music Video Pop</option>
    <option value="Studio Cover">Studio Cover</option>
      <option value="EDM Visualizer">EDM Visualizer</option>
  <option value="Horror Ambience">Horror Ambience</option>
      <option value="Action Film Punch">Action Film Punch</option>
  <option value="Romantic Drama">Romantic Drama</option>
  <option value="Orchestra Film Score">Orchestra Film Score</option>
        <option value="Surround Feel">Surround Feel</option>
</select>
    
    <div class="retina-glass">
	<div id="visualMode" class="content-overlay visual-mode-all">
		
<div class="bg-cover"></div>  
<div class="content">  
	<div class="bg-vivid"></div>  
<div class="glass-mask"></div>  
	

	<!-- Script Three.js -->
<canvas id="hiddenCanvas" style="display: none;"></canvas>
<script src="https://cdn.jsdelivr.net/npm/three@0.155.0/build/three.min.js"></script>
  <script>      
  	window.addEventListener("error", e => console.error("‚ùå Global Error:", e.message));      
        
const fileInput = document.getElementById("fileInput");
const openButton = document.getElementById("openButton");
const mainVideo = document.getElementById("mainVideo");
const videoContainer = document.getElementById("videoContainer");

    
// Debug toggle
const isDev = false;
function log(...args) {
  if (isDev) console.log(...args);
}

fileInput.addEventListener("change", (e) => {
  const file = e.target.files[0];
  if (!file) return;

  const url = URL.createObjectURL(file);

  mainVideo.src = url;
  mainVideo.autoplay = true;
  mainVideo.controls = true;
  mainVideo.playsInline = true;

  // optional: mute kalau audio mau diolah terpisah
  // mainVideo.muted = true;
});

    openButton.onclick = () => fileInput.click();      
      
    fileInput.addEventListener("change", (e) => {      
      const file = e.target.files[0];      
      if (mainVideo.src) {      
  mainVideo.pause();      
  mainVideo.removeAttribute("src");      
  mainVideo.load();      
}      
      if (!file) return;      
      const url = URL.createObjectURL(file);      
      mainVideo.src = url;      
      miniVideo.src = url;      
      mainVideo.play();      
      requestFullscreenLandscape();      
    });      
      
    function requestFullscreenLandscape() {      
      if (screen.orientation && screen.orientation.lock) {      
        screen.orientation.lock("landscape").catch(() => {});      
      }      
      if (mainVideo.requestFullscreen) {      
        mainVideo.requestFullscreen().catch(() => {});      
      } else if (mainVideo.webkitRequestFullscreen) {      
        mainVideo.webkitRequestFullscreen();      
      }      
    }      
          
    // Saat video mulai play      
mainVideo.addEventListener("play", () => {      
  if (screen.orientation && screen.orientation.lock) {      
    screen.orientation.lock("landscape").catch((err) => {      
      console.warn("Gagal rotasi otomatis:", err);      
    });      
  }      
});      
         

const video = document.getElementById("video");      
const input = document.getElementById("videoInput");      
const wrapper = document.getElementById("videoWrapper");      
let hasEnteredFullscreen = false;      
      
// ========== Adaptive Aspect Ratio ==========      
input.addEventListener("change", (e) => {      
  const file = e.target.files[0];      
  if (!file) return;      
      
  const url = URL.createObjectURL(file);      
  video.src = url;      
      
  video.addEventListener("loadedmetadata", () => {      
    const w = video.videoWidth;      
    const h = video.videoHeight;      
    const aspectRatio = w / h;      
      
    if (aspectRatio > 1.1) {      
      wrapper.style.aspectRatio = "16 / 9";      
    } else if (aspectRatio < 0.9) {      
      wrapper.style.aspectRatio = "9 / 16";      
    } else {      
      wrapper.style.aspectRatio = "1 / 1";      
    }      
  });      
});      
    
let lastPlaybackTime = 0;    

    
window.addEventListener("orientationchange", () => {
  const wrapper = document.getElementById("videoWrapper");
  if (window.innerHeight > window.innerWidth) {
    wrapper.style.aspectRatio = "9 / 16";
  } else {
    wrapper.style.aspectRatio = "16 / 9";
  }
});

const observer = new ResizeObserver(() => {
  const w = mainVideo.clientWidth;
  const h = mainVideo.clientHeight;
  const aspectRatio = w / h;

  if (aspectRatio > 1.1) {
    mainVideo.style.aspectRatio = "16 / 9";
  } else if (aspectRatio < 0.9) {
    mainVideo.style.aspectRatio = "9 / 16";
  } else {
    mainVideo.style.aspectRatio = "1 / 1";
  }
});

observer.observe(mainVideo);
    
// ========== Auto Play on Tap + Fullscreen Once ==========    
window.addEventListener("click", () => {    
  if (!hasEnteredFullscreen) {    
    const el = document.getElementById("videoContainer");    
    if (el?.requestFullscreen) {    
      el.requestFullscreen().catch((err) => console.warn("Fullscreen gagal:", err));    
    }    
    hasEnteredFullscreen = true;    
  }    
  video.play().catch(() => {});    
});    
    
// ========== Auto Resume after Minimize/Restore ==========    
document.addEventListener("visibilitychange", () => {
  const videoContainer = document.getElementById("videoContainer");
  const miniPlayer = document.getElementById("miniPlayer");
  const mainVideo = document.getElementById("mainVideo");
  const miniVideo = document.getElementById("miniVideo");

  if (!videoContainer || !miniPlayer || !mainVideo || !miniVideo) return;

  if (document.visibilityState === "hidden") {
    videoContainer.style.display = "none";
    miniPlayer.style.display = "block";
    miniVideo.currentTime = mainVideo.currentTime || 0;
    miniVideo.play().catch(() => {});
  } else if (document.visibilityState === "visible") {
    miniVideo.pause();
    miniPlayer.style.display = "none";
    videoContainer.style.display = "flex";
    mainVideo.currentTime = miniVideo.currentTime || 0;
    mainVideo.play().catch(() => {});

    if (mainVideo.paused) {
      setTimeout(() => {
        mainVideo.play().catch(() => {});
      }, 100);
    }
  }
});


let isDragging = false, offsetX = 0, offsetY = 0;

wrapper.addEventListener("mousedown", (e) => {
  isDragging = true;
  offsetX = e.clientX - wrapper.offsetLeft;
  offsetY = e.clientY - wrapper.offsetTop;
});

document.addEventListener("mousemove", (e) => {
  if (!isDragging) return;
  wrapper.style.left = `${e.clientX - offsetX}px`;
  wrapper.style.top = `${e.clientY - offsetY}px`;
  wrapper.style.right = "auto";
  wrapper.style.bottom = "auto";
});

document.addEventListener("mouseup", () => {
  isDragging = false;
});

window.addEventListener("scroll", () => {
  if (window.scrollY > 150) {
    wrapper.style.width = "180px";
    wrapper.style.bottom = "20px";
    wrapper.style.right = "20px";
  } else {
    wrapper.style.width = "100%";
    wrapper.style.position = "relative";
    wrapper.style.right = "auto";
    wrapper.style.bottom = "auto";
  }
});

function applyPortraitMode() {
  if (window.matchMedia("(orientation: portrait)").matches) {
    mainVideo.classList.add("portraitVideo");
  } else {
    mainVideo.classList.remove("portraitVideo");
  }
}

  window.addEventListener('DOMContentLoaded', () => {
  const el = document.getElementById("visualMode");

  if (!el) {
    console.warn("Elemen #visualMode tidak ditemukan!");
    return;
  }

  console.log("üîµ Mode visual aktif!");

  // Tes tambahkan class manual satu-satu
  el.classList.add("dolby-vision");
  el.classList.remove("bravia-cinematic");
  el.classList.toggle("huawei-vivid");

  // Gabungan semuanya?
  el.classList.add("visual-mode-all");
});


const visualEngineSettings = {
  postProcess: {
    exposure: {
      minBrightness: 0.8,
      maxBrightness: 1.2,
      autoAdjust: true,
      speed: 0.15
    },
    contrast: 1.15,
    saturation: 1.1,
    bloom: {
      enabled: true,
      intensity: 0.3,
      threshold: 1.1
    },
    vignette: {
      enabled: true,
      intensity: 0.15,
      smoothness: 0.6
    },
    chromaticAberration: {
      enabled: true,
      intensity: 0.02
    },
    motionBlur: {
      enabled: true,
      shutterAngle: 90
    },
    colorGrading: {
      lift: [1.0, 1.0, 1.0],
      gamma: [1.05, 1.05, 1.05],
      gain: [1.1, 1.1, 1.1]
    },
    lensFlare: {
      enabled: true,
      intensity: 0.2
    },
    ambientOcclusion: {
      enabled: true,
      radius: 0.5,
      intensity: 0.6
    },
    depthOfField: {
      enabled: true,
      focalDistance: 3.0,
      aperture: 2.8,
      blurAmount: 0.5
    }
  },
  skybox: {
    type: "gradient",
    topColor: "#1c1c2a",
    bottomColor: "#5c6c80"
  },
  lighting: {
    direction: [0.5, -1, 0.3],
    intensity: 1.0,
    color: "#ffffff",
    shadows: true
  },
  autoControl: {
    autoplay: true,
    loop: true,
    muted: false,
    volume: 1.0,
    controlsVisible: false
  }
};

  const canvas = document.getElementById("hiddenCanvas");

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
  camera.position.z = 5;

  const renderer = new THREE.WebGLRenderer({ canvas, alpha: true });
  renderer.setSize(256, 256); // kecilin ukuran, cukup buat proses belakang layar

  // Buat object 3D
  const geometry = new THREE.BoxGeometry(2, 2, 2);
  const material = new THREE.MeshStandardMaterial({ color: 0x00ffcc });
  const cube = new THREE.Mesh(geometry, material);
  scene.add(cube);

  // Lighting
  const light = new THREE.DirectionalLight(0xffffff, 1);
  light.position.set(5, 5, 5);
  scene.add(light);

  // Render loop (background)
  let frame = 0;
  function animate() {
    requestAnimationFrame(animate);
    cube.rotation.x += 0.01;
    cube.rotation.y += 0.01;

    renderer.render(scene, camera);

    if (++frame % 60 === 0) {
      console.log("üé• Background 3D rendering still active", frame);
    }
  }

  animate();
  
  





      
function lockVolumeTo200() {
  if (!mainVideo) return;

  mainVideo.volume = 1.0;
  try {
    const context = new AudioContext();
    const source = context.createMediaElementSource(mainVideo);
    const gainNode = context.createGain();

    gainNode.gain.value = 2.0; // 200%
    source.connect(gainNode).connect(context.destination);

    console.log("üîä Volume locked at 200%");
  } catch (e) {
    console.warn("üîá Gagal tingkatkan volume:", e);
  }

  const lock = () => {
    if (mainVideo.volume !== 1.0) mainVideo.volume = 1.0;
  };
  mainVideo.addEventListener("volumechange", lock);
}

document.addEventListener("DOMContentLoaded", lockVolumeTo200);
    
    
      if ('serviceWorker' in navigator) {        
    navigator.serviceWorker.register('sw.js')        
      .then(reg => console.log('‚úÖ Service Worker registered:', reg.scope))        
      .catch(err => console.error('‚ùå Service Worker registration failed:', err));        
  }        
    
console.log("‚úÖ Script Loaded");    
  </script>    
</body>    
</html>  
  
  
  
